(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2766:function(e,t,s){Promise.resolve().then(s.bind(s,6117))},6117:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var l=s(7437),a=s(2265);function n(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(""),[d,r]=(0,a.useState)(""),[c,f]=(0,a.useState)(""),[o,x]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(null),[b,j]=(0,a.useState)(""),[N,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)();(0,a.useEffect)(()=>{let e=localStorage.getItem("chatRooms");e&&t([...JSON.parse(e)].sort((e,t)=>new Date(t.lastUsed).getTime()-new Date(e.lastUsed).getTime()))},[]);let C=()=>new Date().toLocaleString("ja-JP",{hour12:!1}),S=()=>{if(!s||!c){w("ルーム名とURLを入力してください");return}w("");let l=[...e,{name:s,hashtag:d,url:c,lastUsed:C()}];t([...l].sort((e,t)=>new Date(t.lastUsed).getTime()-new Date(e.lastUsed).getTime())),localStorage.setItem("chatRooms",JSON.stringify(l)),n(""),r(""),f(""),v(!1)},k=()=>{if(null===p||!o||!m)return;let s=[...e];s[p]={name:o,hashtag:i,url:m,lastUsed:s[p].lastUsed},t(s),localStorage.setItem("chatRooms",JSON.stringify(s)),g(null)},U=s=>{let l=e.filter((e,t)=>t!==s);t(l),localStorage.setItem("chatRooms",JSON.stringify(l))},D=t=>{let s=e[t];x(s.name),u(s.hashtag),h(s.url),g(t)},L=s=>{let l=[...e];l[s].lastUsed=C(),t([...l].sort((e,t)=>new Date(t.lastUsed).getTime()-new Date(e.lastUsed).getTime())),localStorage.setItem("chatRooms",JSON.stringify([...l].sort((e,t)=>new Date(t.lastUsed).getTime()-new Date(e.lastUsed).getTime())))},R=e.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())||e.hashtag.toLowerCase().includes(b.toLowerCase()));return(0,l.jsxs)("div",{className:"max-w-3xl mx-auto",children:[0===e.length?(0,l.jsxs)("div",{className:"mt-14 mb-10",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-2 text-[#e8e8e8]",children:"新しいルームを追加 +"}),(0,l.jsxs)("div",{className:"flex flex-col space-y-4 mb-4 ",children:[(0,l.jsx)("input",{type:"text",className:"rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルーム名",value:s,onChange:e=>n(e.target.value)}),(0,l.jsx)("input",{type:"text",className:"rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ハッシュタグ",value:d,onChange:e=>r(e.target.value)}),(0,l.jsx)("input",{type:"url",className:"rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルームのURL",value:c,onChange:e=>f(e.target.value)})]}),y&&(0,l.jsx)("p",{className:"text-red-500 text-center",children:y}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{className:"bg-[#f8f8f8] text-[#2f2f2f] py-2 px-4 rounded-md",onClick:S,children:"ルームを追加"})})]}):(0,l.jsx)("div",{className:"pt-4 sticky top-16 mb-14 left-0 bg-[#212121] z-10",children:(0,l.jsx)("div",{className:"mt-3 bg-[#2f2f2f] rounded-xl",children:(0,l.jsx)("input",{type:"text",className:" rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルーム名やハッシュタグで検索",value:b,onChange:e=>j(e.target.value)})})}),N&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,l.jsxs)("div",{className:"bg-[#2f2f2f] p-6 rounded-md shadow-md max-w-lg w-full",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-4 text-[#e8e8e8]",children:"新しいルームを追加"}),(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsx)("input",{type:"text",className:"border-[#3f3f3f] border-[1.5px] rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルーム名",value:s,onChange:e=>n(e.target.value)}),(0,l.jsx)("input",{type:"text",className:"border-[#3f3f3f] border-[1.5px] rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ハッシュタグ",value:d,onChange:e=>r(e.target.value)}),(0,l.jsx)("input",{type:"url",className:"border-[#3f3f3f] border-[1.5px] rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルームのURL",value:c,onChange:e=>f(e.target.value)}),y&&(0,l.jsx)("p",{className:"text-red-500 text-center",children:y}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,l.jsx)("button",{className:" text-[#e8e8e8] py-2 px-4 rounded-md",onClick:()=>v(!1),children:"キャンセル"}),(0,l.jsx)("button",{className:"bg-[#f8f8f8] text-[#2f2f2f] py-2 px-4 rounded-md",onClick:S,children:"ルームを追加"})]})]})]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-4 text-[#e8e8e8] grow",children:"ルーム一覧"}),(0,l.jsx)("button",{onClick:()=>v(!0),className:"text-black hover:bg-[#2f2f2f] mb-2 h-9 p-2 rounded-lg text-xl font-semibold",children:(0,l.jsx)("h3",{className:"text-sm font-semibold mb-2 text-[#e8e8e8] sticky",children:"新しいルームを追加 +"})})]}),0===R.length?(0,l.jsx)("p",{className:"text-gray-500",children:"ルームが見つかりません。"}):(0,l.jsx)("ul",{className:"space-y-4",children:R.map((e,t)=>(0,l.jsxs)("li",{className:" bg-[#2f2f2f] rounded-md p-4 flex flex-col space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-[#e8e8e8] hover:underline",onClick:()=>L(t),children:e.name}),(0,l.jsxs)("p",{className:"text-[#e8e8e8]",children:["#",e.hashtag]}),(0,l.jsxs)("p",{className:"text-[#e8e8e8] text-sm",children:["最終利用: ",e.lastUsed]})]}),(0,l.jsx)("div",{className:"flex space-x-2",children:(0,l.jsx)("button",{className:" text-gray-500 py-1 px-3 rounded-md",onClick:()=>D(t),children:"編集"})})]}),p===t&&(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)("input",{type:"text",className:"border-[#3f3f3f] border-[1.5px] rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルーム名",value:o,onChange:e=>x(e.target.value)}),(0,l.jsx)("input",{type:"text",className:"border-[#3f3f3f] border-[1.5px] rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ハッシュタグ",value:i,onChange:e=>u(e.target.value)}),(0,l.jsx)("input",{type:"url",className:"border-[#3f3f3f] border-[1.5px] rounded-md p-2 w-full text-[#e8e8e8] bg-[#2f2f2f]",placeholder:"ルームのURL",value:m,onChange:e=>h(e.target.value)}),(0,l.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,l.jsx)("div",{className:"grow",children:(0,l.jsx)("button",{className:" text-red-500 py-1 px-3 rounded-md",onClick:()=>U(t),children:"削除"})}),(0,l.jsx)("button",{className:"text-[#f8f8f8] py-1 px-3 rounded-md",onClick:()=>g(null),children:"キャンセル"}),(0,l.jsx)("button",{className:"bg-[#f8f8f8] text-[#2f2f2f] py-2 px-4 rounded-md",onClick:k,children:"更新"})]})]})]},t))})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2766)}),_N_E=e.O()}]);